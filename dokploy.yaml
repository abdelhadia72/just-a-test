# Dokploy configuration for Next.js application
name: test-app-1
type: application

# Build configuration
build:
  type: dockerfile
  dockerfile: Dockerfile
  context: .

# Runtime configuration
runtime:
  port: 3000
  healthcheck:
    path: /
    interval: 30s
    timeout: 10s
    retries: 3

# Environment variables
env:
  NODE_ENV: production
  NEXT_TELEMETRY_DISABLED: "1"
  PORT: "3000"
  HOSTNAME: "0.0.0.0"

# Resource limits
resources:
  memory: 512Mi
  cpu: 0.5

# Scaling configuration
scaling:
  min: 1
  max: 3
  target_cpu: 70

# Networking
networking:
  expose: true
  protocol: http
